{% extends 'base.html' %}
{% load static %}

{% block title %}Home - Global Win{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section text-center py-5">
    <div class="container">
        <h1 class="display-4 fw-bold mb-3">
            Welcome to Virtual <span class="text-gold">Airline</span>
        </h1>
        <p class="lead mb-4">Your trusted airline to fly across Argentina</p>
        <a class="btn btn-light btn-lg fw-semibold animate-button" href="{% url 'flights:list' %}">
            <i class="fas fa-search"></i> Search Flights
        </a>
    </div>
</section>

<!-- Statistics -->
<div class="container-fluid stats-section text-center py-5">
    <div class="row">
        <div class="col-md-4 mb-3">
            <div class="card card-hover py-5 shadow-sm">
                <i class="fas fa-plane-departure fa-3x text-primary mb-3"></i>
                <h3 class="card-title">{{ total_flights }}</h3>
                <p class="card-text">Available Flights</p>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card card-hover py-5 shadow-sm">
                <i class="fas fa-users fa-3x text-success mb-3"></i>
                <h3 class="card-title">{{ total_passengers }}</h3>
                <p class="card-text">Registered Passengers</p>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card card-hover py-5 shadow-sm">
                <i class="fas fa-ticket-alt fa-3x text-warning mb-3"></i>
                <h3 class="card-title">{{ total_bookings }}</h3>
                <p class="card-text">Active Bookings</p>
            </div>
        </div>
    </div>
</div>

<!-- Travel Promotions Section -->
<div class="container-fluid promotions-section mb-5 py-5">
    <h2 class="text-center mb-4 fw-bold">
        <i class="fas fa-tags"></i> Travel Promotions
    </h2>
    <div class="row g-4">
        <!-- Promo 1: Rio de Janeiro -->
        <div class="col-md-4 d-flex">
            <div class="card h-100 w-100 text-center card-hover shadow-sm rounded-4 border-0" style="background-color: #0071c2; color: white;">
                <img src="{% static 'img/rio-de-janeiro.jpg' %}" alt="Rio de Janeiro" class="img-fluid rounded-top-4" style="max-height:180px; object-fit: cover;">
                <div class="card-body d-flex flex-column">
                    <h5 class="fw-bold">Fly to Rio de Janeiro</h5>
                    <p class="flex-grow-1">Experience the famous Carnival, relax on Copacabana Beach, and enjoy the panoramic views from Sugarloaf Mountain.</p>
                    <a href="#" class="btn btn-light btn-sm fw-semibold mt-auto">Book Now</a>
                </div>
            </div>
        </div>

        <!-- Promo 2: El Calafate -->
        <div class="col-md-4 d-flex">
            <div class="card h-100 w-100 text-center card-hover shadow-sm rounded-4 border-0" style="background-color: #28a745; color: white;">
                <img src="{% static 'img/El Calafate.webp' %}" alt="El Calafate" class="img-fluid rounded-top-4" style="max-height:180px; object-fit: cover;">
                <div class="card-body d-flex flex-column">
                    <h5 class="fw-bold">Adventure in El Calafate</h5>
                    <p class="flex-grow-1">Explore the stunning glaciers of Patagonia, take boat tours on Lake Argentino, and enjoy breathtaking landscapes.</p>
                    <a href="#" class="btn btn-light btn-sm fw-semibold mt-auto">Book Now</a>
                </div>
            </div>
        </div>

        <!-- Promo 3: Madrid -->
        <div class="col-md-4 d-flex">
            <div class="card h-100 w-100 text-center card-hover shadow-sm rounded-4 border-0" style="background-color: #ff9800; color: white;">
                <img src="{% static 'img/puerto-madrid.jpg' %}" alt="Madrid" class="img-fluid rounded-top-4" style="max-height:180px; object-fit: cover;">
                <div class="card-body d-flex flex-column">
                    <h5 class="fw-bold">Cultural Trip to Madrid</h5>
                    <p class="flex-grow-1">Discover Madrid's rich history, enjoy tapas and coffee in cozy plazas, and visit famous museums like Prado and Reina Sofía.</p>
                    <a href="#" class="btn btn-light btn-sm fw-semibold mt-auto">Book Now</a>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Call to Action / Login & Register -->
{% if not user.is_authenticated %}
<div class="container-fluid mb-5 px-3">
    <div class="login-card-glass text-center p-5 position-relative overflow-hidden mx-auto">
        <h3 class="fw-bold mb-3">Ready to Fly?</h3>
        <p class="lead mb-4">Sign up and start booking your flights with ease</p>

        <div class="d-flex justify-content-center gap-3 flex-wrap mb-4">
            <a href="{% url 'accounts:register' %}" class="btn btn-register btn-lg fw-semibold">
                <i class="fas fa-user-plus"></i> Register
            </a>
            <a href="{% url 'accounts:login' %}" class="btn btn-login btn-lg fw-semibold">
                <i class="fas fa-sign-in-alt"></i> Log In
            </a>
        </div>

        <div class="extra-info text-muted">
            <p><i class="fas fa-plane-departure"></i> Explore dozens of flights daily</p>
            <p><i class="fas fa-headset"></i> 24/7 Customer Support</p>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}

{% block extra_css %}
<style>
/* Hero Section */
.hero-section {
    padding: 80px 0;
}

/* Text dorado para "Airline" */
.text-gold {
    color: #ffd200;
    font-weight: 900;
}

/* Animación botón */
.animate-button {
    transition: transform 0.3s ease, background-color 0.3s ease;
}
.animate-button:hover {
    transform: translateY(-3px);
    background-color: #e0e0e0;
}

/* Cards con detalle sutil de fondo */
.card-hover {
    border-radius: 15px;
    transition: all 0.3s ease;
    background: #ffffff;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
}
.card-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1), 0 3px 6px rgba(0,0,0,0.08);
}

/* Secciones */
.stats-section,
.upcoming-section,
.services-section {
    padding: 60px 20px;
}

/* Glassmorphism Login & Register */
.login-card-glass {
    max-width: 100%;
    border-radius: 30px;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    border: 1px solid rgba(255,255,255,0.25);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
}

/* Botones login/register glass */
.btn-register {
    background-color: #28a745;
    color: #fff;
    border-radius: 50px;
    padding: 0.75rem 1.8rem;
    transition: all 0.3s ease;
}
.btn-register:hover {
    background-color: #218838;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgb(255, 255, 255);
}

.btn-login {
    background-color: transparent;
    color: #0071c2;
    border: 2px solid #0071c2;
    border-radius: 50px;
    padding: 0.75rem 1.8rem;
    transition: all 0.3s ease;
}
.btn-login:hover {
    background-color: #0071c2;
    color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}
</style>
{% endblock %}

