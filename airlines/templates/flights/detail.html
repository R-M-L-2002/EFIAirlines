{% extends 'base.html' %}
{% load static %}

{% block title %}Detalle del vuelo {{ flight.flight_number }}{% endblock %}

{% block content %}
<h1>Detalle del vuelo {{ flight.flight_number }}</h1>

<p><strong>Origen:</strong> {{ flight.origin }}</p>
<p><strong>Destino:</strong> {{ flight.destination }}</p>
<p><strong>Fecha y hora de salida:</strong> {{ flight.departure_date }}</p>
<p><strong>Fecha y hora de llegada:</strong> {{ flight.arrival_date }}</p>
<p><strong>Estado:</strong> {{ flight.get_status_display }}</p>

<h2>Asientos disponibles</h2>
<ul>
    <li>First Class: {{ available_counts.first_class }} de {{ seat_counts.first_class }}</li>
    <li>Business Class: {{ available_counts.business_class }} de {{ seat_counts.business_class }}</li>
    <li>Economy Class: {{ available_counts.economy_class }} de {{ seat_counts.economy_class }}</li>
</ul>

<h2>Todos los asientos</h2>
<table border="1" cellpadding="5">
    <thead>
        <tr>
            <th>NÂ° Asiento</th>
            <th>Tipo</th>
            <th>Estado</th>
        </tr>
    </thead>
    <tbody>
        {% for seat in seats %}
        <tr>
            <td>{{ seat.seat_number }}</td>
            <td>{{ seat.get_type_display }}</td>
            <td>{{ seat.get_status_display }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">No hay asientos cargados para este vuelo</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{% url 'flights:list' %}">Volver al listado de vuelos</a>
{% endblock %}
